app.factory("frameService",["$timeout",function(e){var n={doSomething:function(){console.log("doing something from service: ")},doSomethingScope:function(e){console.log(e.length)}};return n.goToFrame=function(e,n,r,a){for(var o=0;r.length>o;o++)e!=a.current_frame_index&&r[o].transitionTo(e);a.current_frame_index=e},n.playback=function(r,a,o){if(r.frames.length>1){r.playing=!0,r.selected_player=null;var t=function(){n.goToFrame(r.current_frame_index+1,a,o,r),r.frames.length-1>r.current_frame_index?r.playback_timeout=e(function(){t()},1e3*a.speeds[a.speeds_index]):r.playing=!1};0!=r.current_frame_index?(n.goToFrame(0,a,o,r),r.playback_timeout=e(function(){t()},1e3*a.speeds[a.speeds_index]+400)):t()}},n.stopPlayback=function(n){e.cancel(n.playback_timeout),n.playing=!1},n.removeFrame=function(e,r,a){if(e.frames.length>1){e.frames.pop();for(var o=0;r.length>o;o++)r[o].frames.pop()}e.current_frame_index==e.frames.length?n.goToFrame(e.frames.length-1,a,r,e):""},n.addFrame=function(e,n){if(10>e.frames.length){e.frames.push(e.frames.length);for(var r=0;n.length>r;r++)n[r].frames.push(JSON.parse(JSON.stringify(n[r].frames[n[r].frames.length-1])))}},n}]);